(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43cbf0e2"],{"0cee":function(e,t,r){},"0e10":function(e,t,r){"use strict";var a=r("eb22"),n=r.n(a);n.a},"111f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:22}},[r("h3",[e._v("未发布考试")])]),r("el-col",{attrs:{span:2}},[r("div",{staticClass:"switcher"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.examForm.newFlag=!0,e.examForm.formType=!0}}},[e._v("新建考试")])],1)])],1),r("div",{staticClass:"divider"}),r("div",{staticClass:"panel-contaner"},[r("div",{staticClass:"all-exam-container",attrs:{loading:e.loading}},[e._l(e.examList,(function(t,a){return r("div",{key:a,staticClass:"single-exam-container"},[r("single-exam",{attrs:{examName:t.examName,date:t.date,startTime:t.startTime,endTime:t.endTime,belong:t.belong,min:t.min,grade:t.grade,examId:t.examId,status:t.status,idtype:1},on:{pick:function(r){return e.pickQuestion(t.examId)},modify:function(r){return e.modify(t.examId)},refresh:e.getNotPostExamList}})],1)})),r("page",{attrs:{currentPage:e.currentPage,total:e.total,pageSize:6},on:{curChange:e.curChange}})],2)]),e.examForm.newFlag?r("el-dialog",{attrs:{visible:e.examForm.newFlag},on:{"update:visible":function(t){return e.$set(e.examForm,"newFlag",t)}}},[r("exam-publish",{attrs:{id:e.examForm.id,type:e.examForm.formType},on:{"update:type":function(t){return e.$set(e.examForm,"formType",t)},close:function(t){e.examForm.newFlag=!1,e.getNotPostExamList()}}})],1):e._e()],1)},n=[],s=(r("96cf"),r("1da1")),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"title"},[e._v(e._s(e.examName))])]),r("div",{staticClass:"info-container"},[r("p",[e._v("\n                开始时间：\n                "),r("span",[e._v(e._s(e.startTime))])]),r("p",[e._v("\n                结束时间：\n                "),r("span",[e._v(e._s(e.endTime))])]),r("p",[e._v("\n                考试时长：\n                "),r("span",[e._v(e._s(e.min)+"分钟")])]),r("p",[e._v("\n                所属课程：\n                "),r("span",[e._v(e._s(e.belong))])]),r("div",{staticClass:"exam-button-container"},[0==e.status?r("el-button",{staticClass:"items",attrs:{size:"small",type:"primary"},on:{click:e.pick}},[e._v("挑选试题")]):e._e(),0==e.status?r("el-button",{staticClass:"items",attrs:{size:"small",type:"primary"},on:{click:e.fillExam}},[e._v("随机出题")]):e._e(),1==e.status?r("el-button",{staticClass:"items",attrs:{size:"small",type:"primary"},on:{click:e.pick}},[e._v("查看试题")]):e._e(),1==e.status?r("el-button",{staticClass:"items",attrs:{size:"small",type:"primary"},on:{click:e.publish}},[e._v("发布考试")]):e._e(),0==e.status||1==e.status?r("el-button",{staticClass:"items",attrs:{size:"small",type:"primary"},on:{click:e.modify}},[e._v("修改信息")]):e._e(),2==e.status?r("el-button",{staticClass:"items",attrs:{size:"small",type:"primary",round:""}},[e._v("停止发布")]):e._e()],1)])])],1)},o=[],c=r("1a8b"),u={props:["examName","startTime","endTime","min","belong","examId","status"],data:function(){return{loading:!1}},methods:{pick:function(){this.$emit("pick")},modify:function(){this.$emit("modify")},fillExam:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].randomFillExam(this.examId);case 3:e.sent,this.$message.success("随机出题成功"),this.$emit("refresh"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message.error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),publish:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].publishExam(this.examId);case 3:e.sent,this.$message.success("发布考试成功，考生可以在规定时间内参与考试"),this.$emit("refresh"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message.error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},l=u,m=(r("0e10"),r("2877")),p=Object(m["a"])(l,i,o,!1,null,"5617984b",null),g=p.exports,d=r("14eb"),f=r("e759"),b={components:{singleExam:g,page:d["a"],examPublish:f["a"]},data:function(){return{examList:[],currentPage:1,total:10,examForm:{id:null,newFlag:!1,formType:!0},pickFlag:!1,loading:!1}},mounted:function(){this.getNotPostExamList()},methods:{getNotPostExamList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,c["a"].getNotPostExam(this.currentPage);case 4:t=e.sent,console.log(t),this.examList=t.data.list,this.total=t.data.total,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.$message.error(e.t0.message);case 13:this.loading=!1;case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),curChange:function(e){this.currentPage=e,this.getNotPostExamList()},pickQuestion:function(e){this.$router.push({path:"/pickQuestion/".concat(e)})},modify:function(e){this.examForm.id=e,this.examForm.newFlag=!0,this.examForm.formType=!1}}},h=b,x=(r("83cb"),Object(m["a"])(h,a,n,!1,null,"6237e402",null));t["default"]=x.exports},"14eb":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-col",{staticClass:"mt30",attrs:{span:24}},[r("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.currentPage,"page-size":e.pageSize,total:e.total,"hide-on-single-page":!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},n=[],s={data:function(){return{}},props:["total","pageSize","currentPage"],methods:{handleSizeChange:function(e){},handleCurrentChange:function(e){this.$emit("curChange",e,this.pageSize)}}},i=s,o=(r("a26e"),r("2877")),c=Object(o["a"])(i,a,n,!1,null,"5426d9d5",null);t["a"]=c.exports},"1a8b":function(e,t,r){"use strict";var a=r("0c6d"),n=r("b441"),s=function(e){return Object(a["c"])(n["a"]+"/getQuestionList","get",e)},i=function(){return Object(a["c"])(n["a"]+"/getTrainingList","get")},o=function(e){return Object(a["c"])(n["a"]+"/modifyQuestion","post",e)},c=function(e){return Object(a["c"])(n["a"]+"/addNewExam","post",e)},u=function(e){return Object(a["c"])(n["a"]+"/publishExam","post",{examId:e})},l=function(e){return Object(a["c"])(n["a"]+"/randomFillExam","post",{examId:e})},m=function(e){return Object(a["c"])(n["a"]+"/getNotPostExam","get",{currentPage:e,pageSize:6})},p=function(e){return Object(a["c"])(n["a"]+"/getExamInfo","get",{examId:e})},g=function(e){return Object(a["c"])(n["a"]+"/modifyExamInfo","post",e)},d=function(e){return Object(a["c"])(n["a"]+"/getExamQuestionList","get",{examId:e})},f=function(e){return Object(a["c"])(n["a"]+"/getQuestionInfo","get",{questionId:e})},b=function(e){return Object(a["c"])(n["a"]+"/saveQuestionForExam","post",e)},h=function(){return Object(a["c"])(n["a"]+"/getQuestionTemplate","get",{},"blob")},x=function(e){return Object(a["c"])(n["a"]+"/getPublishedList","get",e)},v=function(e){return Object(a["c"])(n["a"]+"/closeExam","post",{examId:e})},y=function(e){return Object(a["c"])(n["a"]+"/getFinishedStudentList","get",{examId:e})},w=function(e){return Object(a["c"])(n["a"]+"/modifyGrade","post",e)},F=function(){return Object(a["c"])(n["a"]+"/getGradeTemplate","get",{},"blob")},O=function(e){return Object(a["c"])("".concat(n["a"],"/getExamDetail"),"get",e)},k=function(){return Object(a["c"])("".concat(n["a"],"/getCheckerList"),"get")},j=function(e){return Object(a["c"])("".concat(n["a"],"/getGradeList"),"get",{examId:e})},E=function(e){return Object(a["c"])("".concat(n["a"],"/submitGradeList"),"post",e)},_=function(e){return Object(a["c"])("".concat(n["a"],"/getWaitingGradeList"),"get",e)},$=function(e){return Object(a["c"])("".concat(n["a"],"/approvalSingleRecord"),"post",{recordId:e})},R=function(e){return Object(a["c"])("".concat(n["a"],"/approvalManyRecords"),"post",{ids:e})},C=function(e){return Object(a["c"])("".concat(n["a"],"/refuseSingleRecord"),"post",e)},L=function(e){return Object(a["c"])("".concat(n["a"],"/refuseManyRecords"),"post",e)},T=function(e){return Object(a["c"])("".concat(n["a"],"/getCheckRecordList"),"get",e)};t["a"]={getQuestionList:s,getTrainingList:i,modefyQuestionInfo:o,newExam:c,publishExam:u,randomFillExam:l,getNotPostExam:m,getExamInfo:p,modifyExam:g,getExamQuestionList:d,getSingleQuestion:f,saveQuestionForExam:b,getQuestionTemplate:h,getPublishedList:x,closeExam:v,getFinishedStudentList:y,getGradeTemplate:F,getExamDetail:O,getCheckerList:k,getGradeList:j,submitGradeList:E,getWaitingGradeList:_,approvalSingleRecord:$,approvalManyRecords:R,refuseSingleRecord:C,refuseManyRecords:L,getCheckRecordList:T,modifyGrade:w}},2576:function(e,t,r){},"83cb":function(e,t,r){"use strict";var a=r("0cee"),n=r.n(a);n.a},a26e:function(e,t,r){"use strict";var a=r("a765"),n=r.n(a);n.a},a765:function(e,t,r){},e759:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"form-container"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"考试名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"考试名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"题目数量",prop:"num"}},[r("el-input",{attrs:{placeholder:"输入大于0的数字"},model:{value:e.ruleForm.num,callback:function(t){e.$set(e.ruleForm,"num",t)},expression:"ruleForm.num"}})],1)],1)],1),r("el-row",{attrs:{gutter:40}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"考试时长(分钟)",prop:"len","label-width":"120px"}},[r("el-input",{attrs:{placeholder:"以分钟为单位"},model:{value:e.ruleForm.len,callback:function(t){e.$set(e.ruleForm,"len",t)},expression:"ruleForm.len"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{label:"及格分数(百分制)",prop:"pass","label-width":"140px"}},[r("el-input",{attrs:{placeholder:"输入及格分数"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"所属培训",prop:"training","label-width":"140px"}},[r("el-select",{model:{value:e.ruleForm.training,callback:function(t){e.$set(e.ruleForm,"training",t)},expression:"ruleForm.training"}},e._l(e.trainingList,(function(e,t){return r("el-option",{key:t,attrs:{value:e.id,label:e.label}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-form-item",{attrs:{label:"考试开放时间",prop:"dateRange","label-width":"200"}},[r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"dateRange"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetimerange",placeholder:"选择日期","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.dateRange,callback:function(t){e.$set(e.ruleForm,"dateRange",t)},expression:"ruleForm.dateRange"}})],1)],1)],1)],1),r("el-row",[r("el-col",[r("el-form-item",[1==e.type?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即创建")]):r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确认修改")]),r("el-popover",{staticStyle:{"margin-left":"30px"},attrs:{placement:"top",width:"160"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("p",[e._v("重置将清空填写的所有信息，确定重置吗？")]),r("div",[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("确定")])],1),r("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v("重置表单")])],1)],1)],1)],1)],1)],1)])},n=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("1da1")),i=r("ade3"),o=(r("c5f6"),r("bbd5")),c=r("1a8b");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={props:["type","id"],data:function(){var e=function(e,t,r){var a=Number(t);return a!==a?(r(new Error("请输入数字")),!1):a<0?(r(new Error("题目数量不能小于0")),!1):void r()},t=function(e,t,r){var a=Number(t);if(a!==a)return r(new Error("请输入数字")),!1;r()};return{ruleForm:{name:"",num:null,pass:null,len:null,dateRange:null,training:null,openTime:null,closeTime:null},flag:!1,visible:!1,trainingList:[],rules:{name:[{required:!0,message:"请输入考试名称",trigger:"blur"}],num:[{required:!0,message:"请输入考试题目数量",trigger:"blur"},{validator:e,trigger:"blur"}],dateRange:[{required:!0,message:"请选择开放考试时间",trigger:"change"}],len:[{required:!0,message:"请输入考试时长",trigger:"blur"},{validator:t,trigger:"blur"}],pass:[{required:!0,message:"请输入百分制及格分数",trigger:"blur"},{validator:t,trigger:"blur"}],training:[{required:!0,message:"请选择考试所属培训",trigger:"blur"}]}}},mounted:function(){0==this.type&&this.getExam(),this.getTraining()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message.error("请填完所有信息再创建活动"),t.flag=!1,!1;var r=l({},t.ruleForm);r.openTime=Object(o["b"])(r.dateRange[0]),r.closeTime=Object(o["b"])(r.dateRange[1]),t.flag=!0,console.log(r),1==t.type?t.addNewExam(r):t.saveModify(r)}))},resetForm:function(e){this.$refs[e].resetFields(),this.visible=!1,this.$message.success("重置成功！")},addNewExam:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.flag){e.next=12;break}return e.prev=1,e.next=4,c["a"].newExam(t);case 4:e.sent,this.$message.success("新建考试成功"),this.$emit("close"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.$message.error(e.t0.message);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),saveModify:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.flag){e.next=13;break}return e.prev=1,t.examId=this.id,e.next=5,c["a"].modifyExam(t);case 5:e.sent,this.$message.success("修改考试成功"),this.$emit("close"),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.$message.error(e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}(),getTraining:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getTrainingList();case 3:t=e.sent,this.trainingList=t.data,console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message.error(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getExam:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=this.type){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,c["a"].getExamInfo(this.id);case 5:t=e.sent,this.ruleForm=t.data,r=[],r[0]=new Date(t.data.startTime),r[1]=new Date(t.data.endTime),this.ruleForm.dateRange=r,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),this.$message.error(e.t0.message);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));function t(){return e.apply(this,arguments)}return t}()}},p=m,g=(r("ff9b"),r("2877")),d=Object(g["a"])(p,a,n,!1,null,"5044d8b7",null);t["a"]=d.exports},eb22:function(e,t,r){},ff9b:function(e,t,r){"use strict";var a=r("2576"),n=r.n(a);n.a}}]);