(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f4ba498"],{"0cd3":function(t,e,a){"use strict";var n=a("c8dc"),r=a.n(n);r.a},"14eb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{staticClass:"mt30",attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.total,"hide-on-single-page":!0},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],i={data:function(){return{}},props:["total","pageSize","currentPage"],methods:{handleSizeChange:function(t){},handleCurrentChange:function(t){this.$emit("curChange",t,this.pageSize)}}},o=i,l=(a("a26e"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"5426d9d5",null);e["a"]=c.exports},"386d":function(t,e,a){"use strict";var n=a("cb7c"),r=a("83a1"),i=a("5f1b");a("214f")("search",1,(function(t,e,a,o){return[function(a){var n=t(this),r=void 0==a?void 0:a[e];return void 0!==r?r.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=o(a,t,this);if(e.done)return e.value;var l=n(t),c=String(this),s=l.lastIndex;r(s,0)||(l.lastIndex=0);var u=i(l,c);return r(l.lastIndex,s)||(l.lastIndex=s),null===u?-1:u.index}]}))},"7f7f":function(t,e,a){var n=a("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in r||a("9e1e")&&n(r,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},9043:function(t,e,a){"use strict";var n=a("0c6d"),r=a("b441"),i=function(t){return Object(n["c"])("".concat(r["a"],"/getStudentList"),"get",t)},o=function(){return Object(n["c"])("".concat(r["a"],"/getMemSelectList"),"get")},l=function(t){return Object(n["c"])("".concat(r["a"],"/modifyRely"),"post",t)},c=function(t){return Object(n["c"])("".concat(r["a"],"/resetPassword"),"post",{idNum:t})},s=function(t){return Object(n["c"])("".concat(r["a"],"/modifyStudentInfo"),"post",t)},u=function(){return Object(n["c"])("".concat(r["a"],"/getStudentTemplate"),"get",{},"blob")},p=function(t){return Object(n["c"])("".concat(r["a"],"/addSingleStudent"),"post",t)},d=function(t){return Object(n["c"])("".concat(r["a"],"/getStudentTrainingHistory"),"get",t)},f=function(t){return Object(n["c"])("".concat(r["a"],"/getStudentCertificate"),"get",t)};e["a"]={getStudentList:i,getMemSelectList:o,modifyRely:l,resetPassword:c,modifyInfo:s,getStudentTemplate:u,addSingleStudent:p,getStudentTrainingHistory:d,getStudentCertificate:f}},9154:function(t,e,a){"use strict";var n=a("2b0e"),r=new n["default"];e["a"]=r},"9cd9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("学员培训记录以及证书")]),a("div",{staticClass:"divider"}),a("div",{staticClass:"student-list"},[a("stu-list",{attrs:{type:1},on:{trainingHistory:t.trainingHistory,certificate:t.certificate}})],1),t.dialog.flag?a("el-dialog",{attrs:{title:t.dialog.title,visible:t.dialog.flag},on:{"update:visible":function(e){return t.$set(t.dialog,"flag",e)}}},[a("hist",{attrs:{idNum:t.dialog.idNum,type:t.dialog.type}})],1):t._e()],1)},r=[],i=(a("7f7f"),a("d828")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog-container"},[a("div",{staticClass:"table-container"},[a("m-table",{attrs:{tableConfig:t.table.config,data:t.table.data,loading:t.table.loading}})],1),a("div",{staticClass:"page-container"},[a("page",{attrs:{total:t.form.total,currentPage:t.form.currentPage,pageSize:t.form.pageSioze},on:{curChange:t.curChange}})],1)])},l=[],c=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),s=(a("96cf"),a("1da1")),u=a("d2a2"),p=a("14eb"),d=a("9043");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={props:{idNum:{type:String,required:!0},type:{type:String,required:!0}},components:{page:p["a"],mTable:u["a"]},data:function(){return{form:{total:10,pageSize:10,currentPage:1},table:{config:[],data:[],loading:!1}}},mounted:function(){this.init(),this.getData()},methods:{init:function(){"training"==this.type?this.table.config=[{prop:"id",label:"培训序号"},{prop:"name",label:"培训名称"},{prop:"startTime",label:"开始时间"},{prop:"endTime",label:"结束时间"},{prop:"address",label:"培训地点"},{prop:"status",label:"状态"}]:this.table.config=[{prop:"name",label:"证书名称"},{prop:"training",label:"所属培训"},{prop:"beginTime",label:"开始时间"},{prop:"deadline",label:"到期时间"}]},curChange:function(t){this.form.currentPage=t,this.getData()},getData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.table.loading=!0,t.prev=1,e=null,a=m({},this.form),a.idNum=this.idNum,"training"!=this.type){t.next=12;break}return t.next=8,d["a"].getStudentTrainingHistory(a);case 8:e=t.sent,this.table.data=e.data.list,t.next=16;break;case 12:return t.next=14,d["a"].getStudentCertificate(a);case 14:e=t.sent,this.table.data=e.data.data;case 16:this.form.total=e.data.total,t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](1),this.$message.error(t.t0.message);case 22:this.table.loading=!1;case 23:case"end":return t.stop()}}),t,this,[[1,19]])})));function e(){return t.apply(this,arguments)}return e}()}},b=g,h=(a("0cd3"),a("2877")),y=Object(h["a"])(b,o,l,!1,null,"3ee6c0be",null),v=y.exports,O={components:{stuList:i["a"],hist:v},data:function(){return{dialog:{flag:!1,idNum:null,title:null,type:null}}},methods:{trainingHistory:function(t){this.dialog.idNum=t.idNum,this.dialog.type="training",this.dialog.flag=!0,this.dialog.title=t.name+"的培训记录"},certificate:function(t){this.dialog.idNum=t.idNum,this.dialog.type="certificate",this.dialog.flag=!0,this.dialog.title=t.name+"的证书"}}},S=O,x=Object(h["a"])(S,n,r,!1,null,"3b84884c",null);e["default"]=x.exports},a26e:function(t,e,a){"use strict";var n=a("a765"),r=a.n(n);r.a},a765:function(t,e,a){},add5:function(t,e,a){"use strict";var n=a("e01e"),r=a.n(n);r.a},c8dc:function(t,e,a){},d2a2:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",t._g(t._b({directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableRef",staticClass:"m-table",attrs:{size:"small",data:t.data,"max-height":t.data?600:200}},"el-table",t.tableAttr,!1),t.tableEvent),[t._l(t.tableConfig,(function(e,n){return[e.slot?t._t(e.slot,null,{params:e,prop:e.prop}):a("el-table-column",t._b({key:n,attrs:{align:"center"}},"el-table-column",e,!1))]}))],2)},r=[],i={name:"m-Table",props:{tableConfig:{type:Array},data:{type:Array},loading:{type:Boolean},tableAttr:{type:Object},tableEvent:{type:Object}}},o=i,l=(a("add5"),a("2877")),c=Object(l["a"])(o,n,r,!1,null,"bcfa35a4",null);e["a"]=c.exports},d828:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"form-container"},[a("el-form",{attrs:{model:t.form,inline:""}},[a("el-form-item",{attrs:{label:"姓名","label-position":"left"}},[a("el-input",{attrs:{placeholder:"学员姓名",clearable:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"身份证","label-position":"top"}},[a("el-input",{attrs:{placeholder:"学员身份证",clearable:""},model:{value:t.form.idNum,callback:function(e){t.$set(t.form,"idNum",e)},expression:"form.idNum"}})],1),a("el-form-item",{attrs:{label:"号码","label-position":"top"}},[a("el-input",{attrs:{placeholder:"学员号码",clearable:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"公司","label-position":"top"}},[a("el-select",{attrs:{clearable:""},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}},t._l(t.companyList,(function(t,e){return a("el-option",{key:e,attrs:{value:t.id,label:t.name}})})),1)],1),a("el-form-item",{attrs:{label:"挂靠组织","label-position":"top"}},[a("el-select",{attrs:{clearable:""},model:{value:t.form.hasOrg,callback:function(e){t.$set(t.form,"hasOrg",e)},expression:"form.hasOrg"}},[a("el-option",{attrs:{value:"0",label:"无"}}),a("el-option",{attrs:{value:"1",label:"有"}})],1)],1),a("el-button",{attrs:{loading:t.table.loading,type:"primary"},on:{click:t.search}},[t._v("搜索")])],1)],1),a("div",{staticClass:"table-container"},[a("m-table",{attrs:{data:t.table.tableData,tableConfig:t.table.tableConfig,loading:t.table.loading},scopedSlots:t._u([{key:"oper",fn:function(e){var n=e.params;return a("el-table-column",t._b({attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return a("div",{},[0==t.type?a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.modifyInfo(n)}}},[t._v("修改信息")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.deleteOneStudent(n)}}},[t._v("挂靠")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.resetPass(n)}}},[t._v("重置密码")])],1):t._e(),1==t.type?a("div",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.trainingHistory(n)}}},[t._v("培训记录")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.certificate(n)}}},[t._v("持有证书")])],1):t._e()])}}])},"el-table-column",n,!1))}}])}),a("page",{attrs:{currentPage:t.form.currentPage,total:t.form.total,pageSize:t.form.pageSize},on:{curChange:t.curChange}})],1)])},r=[],i=(a("96cf"),a("1da1")),o=(a("386d"),a("c5f6"),a("d2a2")),l=a("14eb"),c=a("9043"),s=a("9154"),u={props:{type:{type:Number,default:0}},components:{mTable:o["a"],page:l["a"]},data:function(){return{form:{name:null,idNum:null,phone:null,company:null,hasOrg:null,currentPage:1,total:100,pageSize:10},table:{tableData:[{area:"鼓楼区",city:"南京市",email:"12345@163.com",idNum:"451211888888888888",name:"姓名",phone:"15521065463",province:"江苏省",zone:"南京大学",company:"BB股份有限公司",position:"经理",companyId:11}],tableConfig:[{prop:"idNum",label:"学员身份证",width:"150px"},{prop:"name",label:"学员姓名",width:"150px"},{prop:"phone",label:"联系电话",width:"150px"},{prop:"email",label:"邮箱",width:"150px"},{prop:"company",label:"所属公司"},{prop:"position",label:"公司职务"},{prop:"province",label:"省份"},{prop:"city",label:"城市"},{prop:"area",label:"区/县"},{prop:"zone",label:"详细地址"},{slot:"oper",label:"操作",fixed:"right",width:"300px"}],loading:!1},companyList:[]}},mounted:function(){this.init(),this.search(),this.getCompanyList(),s["a"].$on("refreshStudent",this.search)},methods:{init:function(){1==this.type&&(this.table.tableConfig=[{prop:"idNum",label:"学员身份证"},{prop:"name",label:"学员姓名"},{prop:"phone",label:"联系电话"},{prop:"email",label:"邮箱"},{prop:"company",label:"所属公司"},{slot:"oper",label:"操作",fixed:"right",width:"300px"}])},search:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.table.loading=!0,t.prev=1,t.next=4,c["a"].getStudentList(this.form);case 4:e=t.sent,this.table.tableData=e.data.list,this.form.total=e.data.total,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this.$message.error(t.t0.message);case 12:this.table.loading=!1;case 13:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(){return t.apply(this,arguments)}return e}(),getCompanyList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].getMemSelectList();case 3:e=t.sent,this.companyList=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.$message.error(t.t0.message);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),curChange:function(t){this.form.currentPage=t,this.search()},modifyInfo:function(t){this.$emit("modifyInfo",t)},deleteOneStudent:function(t){this.$emit("delete",t)},resetPass:function(t){this.$emit("resetPass",t)},trainingHistory:function(t){this.$emit("trainingHistory",t)},certificate:function(t){this.$emit("certificate",t)}}},p=u,d=a("2877"),f=Object(d["a"])(p,n,r,!1,null,"0228a9c8",null);e["a"]=f.exports},e01e:function(t,e,a){}}]);