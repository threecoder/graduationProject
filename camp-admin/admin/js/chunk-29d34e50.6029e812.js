(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-29d34e50"],{"14eb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{staticClass:"mt30",attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.total,"hide-on-single-page":!0},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],i={data:function(){return{}},props:["total","pageSize","currentPage"],methods:{handleSizeChange:function(t){},handleCurrentChange:function(t){this.$emit("curChange",t,this.pageSize)}}},c=i,o=(a("a26e"),a("2877")),l=Object(o["a"])(c,n,r,!1,null,"5426d9d5",null);e["a"]=l.exports},"95c8":function(t,e,a){"use strict";var n=a("0c6d"),r=a("b441"),i=function(t){return Object(n["c"])("".concat(r["a"],"/getNewsAndDynamicList"),"get",t)},c=function(t){return Object(n["c"])("".concat(r["a"],"/deleteDynamic"),"post",{dynamicId:t})},o=function(t){return Object(n["c"])("".concat(r["a"],"/getDynamicDetail"),"get",{dynamicId:t})},l=function(t){return Object(n["c"])("".concat(r["a"],"/modifyDynamic"),"post",t)},s=function(t){return Object(n["c"])("".concat(r["a"],"/addDynamic"),"post",t)},u=function(){return Object(n["c"])("".concat(r["a"],"/getBrief"),"get")},d=function(){return Object(n["c"])("".concat(r["a"],"/getFrameWork"),"get")},m=function(){return Object(n["c"])("".concat(r["a"],"/getConsitiution"),"get")},p=function(t){return Object(n["c"])("".concat(r["a"],"/modifyConstitution"),"post",{content:t})},f=function(t){return Object(n["c"])("".concat(r["a"],"/modifyBrief"),"post",{content:t})},g=function(t){return Object(n["c"])("".concat(r["a"],"/modifyFramework"),"post",{content:t})},b=function(){return Object(n["c"])("".concat(r["a"],"/getCarouselList"),"get")},h=function(t){return Object(n["c"])("".concat(r["a"],"/addCarousel"),"post",{dynamicId:t})},v=function(t){return Object(n["c"])("".concat(r["a"],"/removeCarousel"),"post",{dynamicId:t})},y=function(t){return Object(n["c"])("".concat(r["a"],"/getNoticeList"),"get",t)},C=function(t){return Object(n["c"])("".concat(r["a"],"/getNoticeDetail"),"get",{noticeId:t})},k=function(t){return Object(n["c"])("".concat(r["a"],"/modifyNotice"),"post",t)},w=function(t){return Object(n["c"])("".concat(r["a"],"/addNotice"),"post",t)},x=function(t){return Object(n["c"])("".concat(r["a"],"/deleteNotice"),"post",{noticeId:t})};e["a"]={getNewsAndDynamicList:i,deleteDynamic:c,getDynamicDetail:o,modifyDynamic:l,addDynamic:s,getBrief:u,getFrameWork:d,getConsitiution:m,modifyConstitution:p,modifyBrief:f,modifyFramework:g,getCarouselList:b,addCarousel:h,removeCarousel:v,getNoticeDetail:C,getNoticeList:y,addNotice:w,modifyNotice:k,deleteNotice:x}},a26e:function(t,e,a){"use strict";var n=a("a765"),r=a.n(n);r.a},a765:function(t,e,a){},add5:function(t,e,a){"use strict";var n=a("e01e"),r=a.n(n);r.a},c044:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-col",{attrs:{span:20}},[a("h3",[t._v("新闻与动态管理")])]),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.publish}},[t._v("发布")]),a("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(e){t.dialog.flag=!0}}},[t._v("轮播")])],1)],1),a("div",{staticClass:"divider"}),a("div",{staticClass:"form-container"},[a("el-form",{attrs:{model:t.form,inline:""}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"新闻标题",clearable:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"发布日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"新闻发布时间",clearable:""},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.getList}},[t._v("查询")])],1)],1)],1),a("div",{staticClass:"table-container"},[a("m-table",{attrs:{data:t.table.data,tableConfig:t.table.config,loading:t.table.loading},scopedSlots:t._u([{key:"oper",fn:function(e){var n=e.params;return a("el-table-column",t._b({attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return a("div",{},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.modify(n)}}},[t._v("修改")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.deleteDynamic(n)}}},[t._v("删除")])],1)}}])},"el-table-column",n,!1))}}])})],1),a("div",{staticClass:"page-container"},[a("page",{attrs:{currentPage:t.form.currentPage,total:t.form.total,pageSize:t.form.pageSize},on:{curChange:t.curChange}})],1),t.dialog.flag?a("el-dialog",{attrs:{title:t.dialog.title,visible:t.dialog.flag},on:{"update:visible":function(e){return t.$set(t.dialog,"flag",e)}}},[a("carousel",{on:{cancel:function(e){t.dialog.flag=!1}}})],1):t._e()],1)},r=[],i=(a("ac6a"),a("96cf"),a("1da1")),c=a("d2a2"),o=a("14eb"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table-container"},[a("m-table",{attrs:{data:t.table.data,tableConfig:t.table.config,loading:t.table.loading},scopedSlots:t._u([{key:"oper",fn:function(e){var n=e.params;return a("el-table-column",t._b({attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return a("div",{},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.remove(n)}}},[t._v("去除")])],1)}}])},"el-table-column",n,!1))}}])})],1),a("div",{staticClass:"tac mt30"},[a("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1)])},s=[],u=a("95c8"),d={components:{mTable:c["a"]},data:function(){return{table:{config:[{prop:"id",label:"序号"},{prop:"title",label:"标题"},{prop:"type",label:"类型"},{prop:"desc",label:"简述"},{prop:"time",label:"发布时间"},{slot:"oper",label:"操作",fixed:"right"}],data:[{id:111,title:"深交所严密监控可转债交易 反复警示交易风险",type:"新闻",desc:"d深交所严密监控可转债交易 反复警示交易风险",time:"2020-02-02 12:00"}],loading:!1}}},mounted:function(){this.getList()},methods:{getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.table.loading=!0,t.prev=1,t.next=4,u["a"].getCarouselList();case 4:e=t.sent,this.table.data=e.data,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),this.$message.error(t.t0.message);case 11:this.table.loading=!1;case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}(),add:function(){var t=this;this.$prompt("请输入要加入轮播图的动态的序号","提示",{cancelButtonText:"取消",confirmButtonText:"确定"}).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.value,e.prev=1,e.next=4,u["a"].addCarousel(n);case 4:e.sent,t.$message.success("操作成功"),t.getList(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),t.$message.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())},remove:function(t){var e=this;this.$confirm("确定将该条数据从轮播图中撤下吗？","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u["a"].removeCarousel(t.id);case 3:a.sent,e.$message.success("操作成功"),e.getList(),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),e.$message.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))))}}},m=d,p=a("2877"),f=Object(p["a"])(m,l,s,!1,null,null,null),g=f.exports,b={components:{mTable:c["a"],page:o["a"],carousel:g},data:function(){return{form:{pageSize:10,currentPage:1,total:100,title:null,date:null},table:{config:[{prop:"id",label:"序号"},{prop:"title",label:"标题"},{prop:"type",label:"类型"},{prop:"desc",label:"简述"},{prop:"time",label:"发布时间"},{slot:"oper",label:"操作",fixed:"right",width:"170px"}],data:[{id:111,title:"深交所严密监控可转债交易 反复警示交易风险",type:"新闻",desc:"d深交所严密监控可转债交易 反复警示交易风险",time:"2020-02-02 12:00"}],loading:!1},dialog:{title:"设置轮播图",flag:!1}}},mounted:function(){this.getList()},methods:{curChange:function(t){this.form.currentPage=t,this.getList()},getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.table.loading=!0,t.prev=1,t.next=4,u["a"].getNewsAndDynamicList(this.form);case 4:e=t.sent,this.table.data=e.data.list,this.table.data.forEach((function(t){t.type="dynamic"==t.type?"动态":"新闻"})),this.form.total=e.data.total,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),this.$message.error(t.t0.message);case 13:this.table.loading=!1;case 14:case"end":return t.stop()}}),t,this,[[1,10]])})));function e(){return t.apply(this,arguments)}return e}(),publish:function(){this.$router.push("/dynamicEdit")},modify:function(t){this.$router.push("/dynamicEdit?dynamicId=".concat(t.id))},deleteDynamic:function(t){var e=this;this.$confirm("确定要删除此条数据吗？将无法恢复","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.table.loading=!0,a.prev=1,a.next=4,u["a"].deleteDynamic(t.id);case 4:a.sent,e.$message.success("删除该记录成功"),e.getList(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),e.$message.error(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[1,9]])}))))}}},h=b,v=Object(p["a"])(h,n,r,!1,null,"09c1a942",null);e["default"]=v.exports},d2a2:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",t._g(t._b({directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableRef",staticClass:"m-table",attrs:{size:"small",data:t.data,"max-height":t.data?600:200}},"el-table",t.tableAttr,!1),t.tableEvent),[t._l(t.tableConfig,(function(e,n){return[e.slot?t._t(e.slot,null,{params:e,prop:e.prop}):a("el-table-column",t._b({key:n,attrs:{align:"center"}},"el-table-column",e,!1))]}))],2)},r=[],i={name:"m-Table",props:{tableConfig:{type:Array},data:{type:Array},loading:{type:Boolean},tableAttr:{type:Object},tableEvent:{type:Object}}},c=i,o=(a("add5"),a("2877")),l=Object(o["a"])(c,n,r,!1,null,"bcfa35a4",null);e["a"]=l.exports},e01e:function(t,e,a){}}]);