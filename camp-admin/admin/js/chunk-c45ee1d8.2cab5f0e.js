(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c45ee1d8"],{"14eb":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",{staticClass:"mt30",attrs:{span:24}},[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":t.currentPage,"page-size":t.pageSize,total:t.total,"hide-on-single-page":!0},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},i=[],s={data:function(){return{}},props:["total","pageSize","currentPage"],methods:{handleSizeChange:function(t){},handleCurrentChange:function(t){this.$emit("curChange",t,this.pageSize)}}},r=s,o=(a("a26e"),a("2877")),c=Object(o["a"])(r,n,i,!1,null,"5426d9d5",null);e["a"]=c.exports},"1a8b":function(t,e,a){"use strict";var n=a("0c6d"),i=a("b441"),s=function(t){return Object(n["c"])(i["a"]+"/getQuestionList","get",t)},r=function(){return Object(n["c"])(i["a"]+"/getTrainingList","get")},o=function(t){return Object(n["c"])(i["a"]+"/modifyQuestion","post",t)},c=function(t){return Object(n["c"])(i["a"]+"/addNewExam","post",t)},l=function(t){return Object(n["c"])(i["a"]+"/publishExam","post",{examId:t})},u=function(t){return Object(n["c"])(i["a"]+"/randomFillExam","post",{examId:t})},d=function(t){return Object(n["c"])(i["a"]+"/getNotPostExam","get",{currentPage:t,pageSize:6})},p=function(t){return Object(n["c"])(i["a"]+"/getExamInfo","get",{examId:t})},f=function(t){return Object(n["c"])(i["a"]+"/modifyExamInfo","post",t)},g=function(t){return Object(n["c"])(i["a"]+"/getExamQuestionList","get",{examId:t})},m=function(t){return Object(n["c"])(i["a"]+"/getQuestionInfo","get",{questionId:t})},b=function(t){return Object(n["c"])(i["a"]+"/saveQuestionForExam","post",t)},h=function(){return Object(n["c"])(i["a"]+"/getQuestionTemplate","get",{},"blob")},v=function(t){return Object(n["c"])(i["a"]+"/getPublishedList","get",t)},x=function(t){return Object(n["c"])(i["a"]+"/closeExam","post",{examId:t})},y=function(t){return Object(n["c"])(i["a"]+"/getFinishedStudentList","get",{examId:t})},O=function(t){return Object(n["c"])(i["a"]+"/modifyGrade","post",t)},C=function(){return Object(n["c"])(i["a"]+"/getGradeTemplate","get",{},"blob")},I=function(t){return Object(n["c"])("".concat(i["a"],"/getExamDetail"),"get",t)},k=function(){return Object(n["c"])("".concat(i["a"],"/getCheckerList"),"get")},_=function(t){return Object(n["c"])("".concat(i["a"],"/getGradeList"),"get",{examId:t})},j=function(t){return Object(n["c"])("".concat(i["a"],"/submitGradeList"),"post",t)},w=function(t){return Object(n["c"])("".concat(i["a"],"/getWaitingGradeList"),"get",t)},L=function(t){return Object(n["c"])("".concat(i["a"],"/approvalSingleRecord"),"post",{recordId:t})},E=function(t){return Object(n["c"])("".concat(i["a"],"/approvalManyRecords"),"post",{ids:t})},$=function(t){return Object(n["c"])("".concat(i["a"],"/refuseSingleRecord"),"post",t)},S=function(t){return Object(n["c"])("".concat(i["a"],"/refuseManyRecords"),"post",t)},R=function(t){return Object(n["c"])("".concat(i["a"],"/getCheckRecordList"),"get",t)};e["a"]={getQuestionList:s,getTrainingList:r,modefyQuestionInfo:o,newExam:c,publishExam:l,randomFillExam:u,getNotPostExam:d,getExamInfo:p,modifyExam:f,getExamQuestionList:g,getSingleQuestion:m,saveQuestionForExam:b,getQuestionTemplate:h,getPublishedList:v,closeExam:x,getFinishedStudentList:y,getGradeTemplate:C,getExamDetail:I,getCheckerList:k,getGradeList:_,submitGradeList:j,getWaitingGradeList:w,approvalSingleRecord:L,approvalManyRecords:E,refuseSingleRecord:$,refuseManyRecords:S,getCheckRecordList:R,modifyGrade:O}},"1b60":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("h5",{staticClass:"panel-title"},[t._v("考试信息")]),a("div",{staticClass:"examInfo-container"},[a("span",{staticClass:"info-items"},[t._v("\n                考试名称：\n                "),a("span",{staticClass:"blue"},[t._v(t._s(t.examInfo.name))])]),a("span",{staticClass:"info-items"},[t._v("\n                所属培训：\n                "),a("span",{staticClass:"blue"},[t._v(t._s(t.examInfo.training))])]),a("span",{staticClass:"info-items"},[t._v("\n                题目数量：\n                "),a("span",{staticClass:"blue"},[t._v(t._s(t.examInfo.num))])]),a("span",{staticClass:"info-items"},[t._v("\n                考试时长：\n                "),a("span",{staticClass:"blue"},[t._v(t._s(t.examInfo.len)+"分钟")])]),a("span",{staticClass:"info-items"},[t._v("\n                开始时间：\n                "),a("span",{staticClass:"blue"},[t._v(t._s(t.examInfo.startTime))])]),a("span",{staticClass:"info-items"},[t._v("\n                结束时间：\n                "),a("span",{staticClass:"blue"},[t._v(t._s(t.examInfo.endTime))])]),a("span",{staticClass:"info-items"},[t._v("\n                通过成绩：\n                "),a("span",{staticClass:"blue"},[t._v(t._s(t.examInfo.pass))])])]),a("div",{staticClass:"divider"}),a("h5",{staticClass:"panel-title"},[t._v("挑选试题")]),a("div",{staticClass:"question-container"},[a("div",{staticClass:"index-list"},t._l(t.examInfo.num,(function(e){return a("div",{key:e,class:{"index-items":!0,"index-items-fill":e<=t.len},on:{click:function(a){return t.checkDetail(e,"picked")}}},[t._v(t._s(e))])})),0),a("div",{staticClass:"table-container"},[a("el-form",{attrs:{model:t.form,inline:""}},[a("el-form-item",{attrs:{label:"题目","label-position":"left"}},[a("el-input",{attrs:{clearable:"",placeholder:"输入题目关键字"},model:{value:t.form.keyword,callback:function(e){t.$set(t.form,"keyword",e)},expression:"form.keyword"}})],1),a("el-form-item",{attrs:{label:"题目类型","label-position":"top"}},[a("el-select",{attrs:{clearable:""},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-option",{attrs:{value:"0",label:"单选题"}}),a("el-option",{attrs:{value:"1",label:"多选题"}})],1)],1),a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1),a("m-table",{attrs:{data:t.table.data,tableConfig:t.table.config,loading:t.table.loading},scopedSlots:t._u([{key:"oper",fn:function(e){var n=e.params;return a("el-table-column",t._b({staticClass:"myoper",attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return a("div",{},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.checkDetail(n,"detail")}}},[t._v("详情")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.pickOne(n)}}},[t._v("加入试卷")])],1)}}])},"el-table-column",n,!1))}}])}),a("page",{attrs:{currentPage:t.form.currentPage,total:t.form.total,pageSize:t.form.pageSize},on:{curChange:t.curChange}})],1),a("div",{staticClass:"button-container"},[a("el-button",{on:{click:t.cancel}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)])]),a("div",{staticClass:"dialog-container"},[a("el-dialog",{attrs:{title:"试题详情",visible:t.flag},on:{"update:visible":function(e){t.flag=e}}},[a("h3",[t._v("题目内容："+t._s(t.dialog.state))]),a("div",{staticClass:"question-type"},[a("el-select",{attrs:{disabled:""},model:{value:t.dialog.type,callback:function(e){t.$set(t.dialog,"type",e)},expression:"dialog.type"}},[a("el-option",{attrs:{value:"0",label:"单选题"}}),a("el-option",{attrs:{value:"1",label:"多选题"}})],1)],1),a("div",{staticClass:"option"},[a("span",{staticClass:"tip"},[t._v("正确答案：")]),a("el-input",{attrs:{disabled:""},model:{value:t.dialog.answer,callback:function(e){t.$set(t.dialog,"answer",e)},expression:"dialog.answer"}})],1),a("div",{staticClass:"option"},[a("span",{staticClass:"tip"},[t._v("选项A：")]),a("el-input",{attrs:{disabled:""},model:{value:t.dialog.choiceA,callback:function(e){t.$set(t.dialog,"choiceA",e)},expression:"dialog.choiceA"}})],1),a("div",{staticClass:"option"},[a("span",{staticClass:"tip"},[t._v("选项B：")]),a("el-input",{attrs:{disabled:""},model:{value:t.dialog.choiceB,callback:function(e){t.$set(t.dialog,"choiceB",e)},expression:"dialog.choiceB"}})],1),a("div",{staticClass:"option"},[a("span",{staticClass:"tip"},[t._v("选项C：")]),a("el-input",{attrs:{disabled:""},model:{value:t.dialog.choiceC,callback:function(e){t.$set(t.dialog,"choiceC",e)},expression:"dialog.choiceC"}})],1),a("div",{staticClass:"option"},[a("span",{staticClass:"tip"},[t._v("选项D：")]),a("el-input",{attrs:{disabled:""},model:{value:t.dialog.choiceD,callback:function(e){t.$set(t.dialog,"choiceD",e)},expression:"dialog.choiceD"}})],1),"picked"==t.dialog.detailType?a("div",{staticClass:"button-container"},[a("el-button",{attrs:{type:"primary"},on:{click:t.remove}},[t._v("移除此题目")]),a("el-button",{on:{click:function(e){t.flag=!1}}},[t._v("确 定")])],1):t._e()])],1)])},i=[],s=(a("8e6e"),a("456d"),a("ade3")),r=(a("ac6a"),a("96cf"),a("1da1")),o=(a("386d"),a("d2a2")),c=a("14eb"),l=a("1a8b");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={components:{mTable:o["a"],page:c["a"]},data:function(){return{examId:this.$route.params.id,examInfo:{num:10,name:"考试名称",startTime:"2016-10-10 16:00:00",endTime:"2016-10-10 16:00:00",len:120,pass:60,training:"所属培训名",hasQue:!0},questionIdList:[],len:0,table:{config:[{prop:"questionId",label:"题目ID",width:"100px"},{prop:"stateMin",label:"题目"},{prop:"type",label:"题目类型",width:"150px"},{slot:"oper",label:"操作",fixed:"right",width:"200px"}],data:[],loading:!1},form:{keyword:null,type:null,trainingId:null,currentPage:1,total:100,pageSize:10},flag:!1,dialog:{questionId:1,state:"以下属于物理层的设备是",type:"单选题",answer:"A",choiceA:"中继器",choiceB:"以太网交换机",choiceC:"桥",choiceD:"网关",detailType:"detail"}}},computed:{itemFill:function(){return this.len}},mounted:function(){this.getInfo(),this.search()},methods:{curChange:function(t){this.form.currentPage=t,this.search()},getInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].getExamInfo(this.examId);case 3:e=t.sent,this.examInfo=e.data,1==this.examInfo.hasQue&&this.getQueList(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$message.error(t.t0.message);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getQueList:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].getExamQuestionList(this.examId);case 3:e=t.sent,this.questionIdList=e.data.list,this.len=e.data.list.length,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$message.error(t.t0.message);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),search:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.table.loading=!0,t.prev=1,t.next=4,l["a"].getQuestionList(this.form);case 4:e=t.sent,this.table.data=e.data.list,a=this.table.data,a.forEach((function(t,e){0==t.type?a[e].type="单选题":1==t.type?a[e].type="多选题":2==t.type&&(a[e].type="判断题"),a[e].stateMin=t.state.length<100?t.state:t.state.substring(0,94)+"....."})),this.form.total=e.data.total,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),this.$message.error(t.t0.message);case 14:this.table.loading=!1;case 15:case"end":return t.stop()}}),t,this,[[1,11]])})));function e(){return t.apply(this,arguments)}return e}(),checkDetail:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("picked"!=a){t.next=19;break}if(!(e-1<0||e>this.questionIdList.length)){t.next=4;break}return this.$message.error("第".concat(e,"题还是空的")),t.abrupt("return",!1);case 4:return t.prev=4,n=this.questionIdList[e-1],t.next=8,l["a"].getSingleQuestion(n);case 8:i=t.sent,this.dialog=d({},i.data),this.dialog.questionId=n,console.log(this.dialog),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),this.$message.error(t.t0.message);case 17:t.next=21;break;case 19:this.dialog=d({},e),this.dialog.detailType=a;case 21:this.dialog.detailType=a,this.flag=!0;case 23:case"end":return t.stop()}}),t,this,[[4,14]])})));function e(e,a){return t.apply(this,arguments)}return e}(),pickOne:function(t){if(-1!=this.questionIdList.indexOf(t.questionId))return this.$message.error("该题目已经加入到试卷中了，不可再次加入！"),!1;this.questionIdList.push(t.questionId),this.len++},remove:function(){var t=this.questionIdList.indexOf(this.dialog.questionId);-1!=t&&(this.questionIdList.splice(t,1),this.len--,this.$message.success("移除题目成功"),this.flag=!1)},cancel:function(){this.$router.go(-1)},save:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.questionIdList.length<this.examInfo.num)){t.next=3;break}return this.$message.error("选择题目数量还未达到设定数量"),t.abrupt("return",!1);case 3:return e={examId:this.examId,queList:this.questionIdList},t.prev=4,t.next=7,l["a"].saveQuestionForExam(e);case 7:t.sent,this.$message.success("保存题目成功"),this.$router.push({path:"/toPublic"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),this.$message.error(t.t0.message);case 15:case"end":return t.stop()}}),t,this,[[4,12]])})));function e(){return t.apply(this,arguments)}return e}()}},f=p,g=(a("c375"),a("2877")),m=Object(g["a"])(f,n,i,!1,null,"60078672",null);e["default"]=m.exports},"386d":function(t,e,a){"use strict";var n=a("cb7c"),i=a("83a1"),s=a("5f1b");a("214f")("search",1,(function(t,e,a,r){return[function(a){var n=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,n):new RegExp(a)[e](String(n))},function(t){var e=r(a,t,this);if(e.done)return e.value;var o=n(t),c=String(this),l=o.lastIndex;i(l,0)||(o.lastIndex=0);var u=s(o,c);return i(o.lastIndex,l)||(o.lastIndex=l),null===u?-1:u.index}]}))},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},a26e:function(t,e,a){"use strict";var n=a("a765"),i=a.n(n);i.a},a765:function(t,e,a){},add5:function(t,e,a){"use strict";var n=a("e01e"),i=a.n(n);i.a},c375:function(t,e,a){"use strict";var n=a("ca3c"),i=a.n(n);i.a},ca3c:function(t,e,a){},d2a2:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",t._g(t._b({directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableRef",staticClass:"m-table",attrs:{size:"small",data:t.data,"max-height":t.data?600:200}},"el-table",t.tableAttr,!1),t.tableEvent),[t._l(t.tableConfig,(function(e,n){return[e.slot?t._t(e.slot,null,{params:e,prop:e.prop}):a("el-table-column",t._b({key:n,attrs:{align:"center"}},"el-table-column",e,!1))]}))],2)},i=[],s={name:"m-Table",props:{tableConfig:{type:Array},data:{type:Array},loading:{type:Boolean},tableAttr:{type:Object},tableEvent:{type:Object}}},r=s,o=(a("add5"),a("2877")),c=Object(o["a"])(r,n,i,!1,null,"bcfa35a4",null);e["a"]=c.exports},e01e:function(t,e,a){}}]);