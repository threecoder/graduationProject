(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12fb8d56"],{"14eb":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-col",{staticClass:"mt30",attrs:{span:24}},[n("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next","current-page":e.currentPage,"page-size":e.pageSize,total:e.total,"hide-on-single-page":!0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],c={data:function(){return{}},props:["total","pageSize","currentPage"],methods:{handleSizeChange:function(e){},handleCurrentChange:function(e){this.$emit("curChange",e,this.pageSize)}}},i=c,o=(n("a26e"),n("2877")),s=Object(o["a"])(i,a,r,!1,null,"5426d9d5",null);t["a"]=s.exports},"1a8b":function(e,t,n){"use strict";var a=n("0c6d"),r=n("b441"),c=function(e){return Object(a["c"])(r["a"]+"/getQuestionList","get",e)},i=function(){return Object(a["c"])(r["a"]+"/getTrainingList","get")},o=function(e){return Object(a["c"])(r["a"]+"/modifyQuestion","post",e)},s=function(e){return Object(a["c"])(r["a"]+"/addNewExam","post",e)},u=function(e){return Object(a["c"])(r["a"]+"/publishExam","post",{examId:e})},l=function(e){return Object(a["c"])(r["a"]+"/randomFillExam","post",{examId:e})},g=function(e){return Object(a["c"])(r["a"]+"/getNotPostExam","get",{currentPage:e,pageSize:6})},d=function(e){return Object(a["c"])(r["a"]+"/getExamInfo","get",{examId:e})},p=function(e){return Object(a["c"])(r["a"]+"/modifyExamInfo","post",e)},m=function(e){return Object(a["c"])(r["a"]+"/getExamQuestionList","get",{examId:e})},f=function(e){return Object(a["c"])(r["a"]+"/getQuestionInfo","get",{questionId:e})},b=function(e){return Object(a["c"])(r["a"]+"/saveQuestionForExam","post",e)},h=function(){return Object(a["c"])(r["a"]+"/getQuestionTemplate","get",{},"blob")},v=function(e){return Object(a["c"])(r["a"]+"/getPublishedList","get",e)},x=function(e){return Object(a["c"])(r["a"]+"/closeExam","post",{examId:e})},y=function(e){return Object(a["c"])(r["a"]+"/getFinishedStudentList","get",{examId:e})},j=function(e){return Object(a["c"])(r["a"]+"/modifyGrade","post",e)},O=function(){return Object(a["c"])(r["a"]+"/getGradeTemplate","get",{},"blob")},w=function(e){return Object(a["c"])("".concat(r["a"],"/getExamDetail"),"get",e)},k=function(){return Object(a["c"])("".concat(r["a"],"/getCheckerList"),"get")},C=function(e){return Object(a["c"])("".concat(r["a"],"/getGradeList"),"get",{examId:e})},R=function(e){return Object(a["c"])("".concat(r["a"],"/submitGradeList"),"post",e)},L=function(e){return Object(a["c"])("".concat(r["a"],"/getWaitingGradeList"),"get",e)},E=function(e){return Object(a["c"])("".concat(r["a"],"/approvalSingleRecord"),"post",{recordId:e})},S=function(e){return Object(a["c"])("".concat(r["a"],"/approvalManyRecords"),"post",{ids:e})},_=function(e){return Object(a["c"])("".concat(r["a"],"/refuseSingleRecord"),"post",e)},$=function(e){return Object(a["c"])("".concat(r["a"],"/refuseManyRecords"),"post",e)},z=function(e){return Object(a["c"])("".concat(r["a"],"/getCheckRecordList"),"get",e)};t["a"]={getQuestionList:c,getTrainingList:i,modefyQuestionInfo:o,newExam:s,publishExam:u,randomFillExam:l,getNotPostExam:g,getExamInfo:d,modifyExam:p,getExamQuestionList:m,getSingleQuestion:f,saveQuestionForExam:b,getQuestionTemplate:h,getPublishedList:v,closeExam:x,getFinishedStudentList:y,getGradeTemplate:O,getExamDetail:w,getCheckerList:k,getGradeList:C,submitGradeList:R,getWaitingGradeList:L,approvalSingleRecord:E,approvalManyRecords:S,refuseSingleRecord:_,refuseManyRecords:$,getCheckRecordList:z,modifyGrade:j}},"7f7f":function(e,t,n){var a=n("86cc").f,r=Function.prototype,c=/^\s*function ([^ (]*)/,i="name";i in r||n("9e1e")&&a(r,i,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(e){return""}}})},a26e:function(e,t,n){"use strict";var a=n("a765"),r=n.n(a);r.a},a765:function(e,t,n){},add5:function(e,t,n){"use strict";var a=n("e01e"),r=n.n(a);r.a},d2a2:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableRef",staticClass:"m-table",attrs:{size:"small",data:e.data,"max-height":e.data?600:200}},"el-table",e.tableAttr,!1),e.tableEvent),[e._l(e.tableConfig,(function(t,a){return[t.slot?e._t(t.slot,null,{params:t,prop:t.prop}):n("el-table-column",e._b({key:a,attrs:{align:"center"}},"el-table-column",t,!1))]}))],2)},r=[],c={name:"m-Table",props:{tableConfig:{type:Array},data:{type:Array},loading:{type:Boolean},tableAttr:{type:Object},tableEvent:{type:Object}}},i=c,o=(n("add5"),n("2877")),s=Object(o["a"])(i,a,r,!1,null,"bcfa35a4",null);t["a"]=s.exports},da96:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-col",{attrs:{span:18}},[n("h3",[e._v("成绩审核")])]),n("el-col",{attrs:{span:6}},[n("div",{staticClass:"tac"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.ApprovalSelected}},[e._v("通过选中记录")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.refuseSelected}},[e._v("拒绝选中记录")])],1)])],1),n("div",{staticClass:"divider"}),n("div",{staticClass:"form-container"},[n("el-form",{attrs:{inline:""}})],1),n("div",{staticClass:"table-container"},[n("m-table",{attrs:{data:e.table.data,tableConfig:e.table.config,loading:e.table.loading,tableEvent:e.table.event,tableAttr:e.table.attr},scopedSlots:e._u([{key:"select",fn:function(t){var a=t.params;return n("el-table-column",e._b({attrs:{align:"center",type:"selection",width:"55"}},"el-table-column",a,!1))}},{key:"oper",fn:function(t){var a=t.params;return n("el-table-column",e._b({attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return n("div",{},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.detail(a)}}},[e._v("作答详情")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.ApprovalRow(a)}}},[e._v("通过")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.refuseRow(a)}}},[e._v("拒绝")])],1)}}])},"el-table-column",a,!1))}}])})],1),n("div",{staticClass:"page-container"},[n("page",{attrs:{pageSize:e.form.pageSize,total:e.form.total,currentPage:e.form.currentPage},on:{curChange:e.handleCurrentChange}})],1)],1)},r=[],c=(n("7f7f"),n("96cf"),n("1da1")),i=n("d2a2"),o=n("14eb"),s=n("1a8b"),u={components:{mTable:i["a"],page:o["a"]},data:function(){return{form:{pageSize:10,currentPage:1,total:100,trainingName:null,idNum:null,studentName:null},table:{config:[{slot:"select","reserve-selection":!0},{prop:"name",label:"学员姓名"},{prop:"idNum",label:"学员编号"},{prop:"trainingName",label:"所属培训"},{prop:"member",label:"所属会员"},{prop:"times",label:"作答次数"},{prop:"grade",label:"分数"},{slot:"oper",label:"操作",fixed:"right",width:"250px"}],data:[{idNum:"111",name:"张三",member:"BB股份有限公司",grade:100,times:3,id:"123",trainingName:"训练名",examId:"宿舍"}],event:{"selection-change":this.handleSelectionChange},attr:{"row-key":"id"},loading:!1},selected:[]}},mounted:function(){this.getCheckList()},methods:{handleCurrentChange:function(e){this.form.currentPage=e,this.getCheckList()},handleSelectionChange:function(e){this.selected=e,console.log(e)},getCheckList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,e.next=4,s["a"].getWaitingGradeList(this.form);case 4:t=e.sent,this.table.data=t.data.data,this.form.total=t.data.total,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.$message.error(e.t0.message);case 12:this.table.loading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),detail:function(e){this.$router.push({path:"/studentExamDetail/".concat(e.name,"/").concat(e.examId,"/").concat(e.idNum)})},ApprovalRow:function(e){var t=this;this.$confirm("确定要通过该条成绩记录的申请吗？","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.table.loading=!0,n.prev=1,n.next=4,s["a"].approvalSingleRecord(e.id);case 4:a=n.sent,t.$message.success(a.msg),t.getCheckList(),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),t.$message.error(n.t0.message);case 12:t.table.loading=!1;case 13:case"end":return n.stop()}}),n,null,[[1,9]])}))))},refuseRow:function(e){var t=this;this.$prompt("确定要拒绝该条成绩记录的理由","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(function(){var n=Object(c["a"])(regeneratorRuntime.mark((function n(a){var r,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=a.value,n.prev=1,c={reportId:e.id,tip:r},n.next=5,s["a"].refuseSingleRecord(c);case 5:i=n.sent,t.$message.success(i.msg),t.getCheckList(),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),t.$message.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}())},ApprovalSelected:function(){var e=this;if(0==this.selected.length)return this.$message.error("请选择目标"),!1;this.$confirm("确定要通过这批成绩记录的申请吗？","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.table.loading=!0,t.prev=1,n=e.selected.map((function(e){return e.id})),t.next=5,s["a"].approvalManyRecords(n);case 5:a=t.sent,e.$message.success(a.msg),e.getCheckList(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.$message.error(t.t0.message);case 13:e.table.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))))},refuseSelected:function(){var e=this;if(0==this.selected.length)return this.$message.error("请选择目标"),!1;this.$prompt("拒绝这批成绩审核的理由","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var a,r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.value,e.table.loading=!0,t.prev=2,r=e.selected.map((function(e){return e.id})),c={ids:r,tip:a},t.next=7,s["a"].refuseManyRecords(c);case 7:t.sent,e.$message.success("审批成功！"),e.getCheckList(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](2),e.$message.error(t.t0.message);case 15:e.table.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}())}}},l=u,g=n("2877"),d=Object(g["a"])(l,a,r,!1,null,"70a012cb",null);t["default"]=d.exports},e01e:function(e,t,n){}}]);