(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68d5d272"],{"091b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"all-container"},[n("div",{staticClass:"exam-container"},[n("single-choice",{attrs:{type:e.item.type,title:e.item.title,arr:e.item.arr,score:e.item.score,index:e.item.index,choice:e.answer},on:{"update:choice":function(t){e.answer=t}}}),n("div",{staticClass:"button-container"},[n("el-button",{attrs:{disabled:e.preFlag,type:"primary"},on:{click:e.pre}},[e._v("上 一 题")]),e.index+1==e.list.length?n("el-button",{attrs:{type:"primary"},on:{click:e.beforeSubmit}},[e._v("提 交 试 卷")]):n("el-button",{attrs:{disabled:e.nextFlag,type:"primary"},on:{click:e.next}},[e._v("下 一 题")])],1)],1),n("div",{staticClass:"menu"},[n("div",{staticClass:"examName"},[n("h3",[e._v(e._s(e.examInfo.name))])]),n("div",{staticClass:"time"},[n("p",[e._v(e._s(e.remainTime))]),e._m(0)]),n("div",{staticClass:"tika"},[n("h4",[e._v("进度")]),n("div",{staticClass:"box-container"},[e._l(e.list.length,(function(t){return[n("span",{key:t,class:{done:e.hadDone(t)},on:{click:function(n){return e.switchQuestion(t)}}},[e._v(e._s(t))])]}))],2)])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"time-icon"},[n("i",{staticClass:"el-icon-timer"}),e._v("剩余时间\n            ")])}],s=(n("ac6a"),n("28a5"),n("6b54"),n("f576"),n("96cf"),n("3b8d")),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"single-choice"},[n("p",[n("span",{staticClass:"blue"},[e._v(e._s(e.index)+".")]),0==e.type?n("span",{staticClass:"blue"},[e._v("[单选题]")]):e._e(),1==e.type?n("span",{staticClass:"blue"},[e._v("[多选题]")]):e._e(),e._v("\n        "+e._s(e.title)+"\n        "),e.score?n("span",{staticClass:"grey"},[e._v("("+e._s(e.score)+"分)")]):e._e()]),0==e.type?n("ul",e._l(e.arr,(function(t,i){return n("li",{key:i},[n("el-radio",{attrs:{label:i+1},model:{value:e.choice[e.index-1],callback:function(t){e.$set(e.choice,e.index-1,t)},expression:"choice[index-1]"}},[e._v(e._s(e.getWord(i))+e._s(t))])],1)})),0):e._e(),1==e.type?[n("el-checkbox-group",{on:{change:e.mulChange},model:{value:e.mulChoice,callback:function(t){e.mulChoice=t},expression:"mulChoice"}},[n("ul",e._l(e.arr,(function(e,t){return n("li",{key:t},[n("el-checkbox",{attrs:{label:e}})],1)})),0)])]:e._e(),2==e.type?n("ul",[n("li",[n("el-radio",{attrs:{label:"1"},model:{value:e.choice[e.index-1],callback:function(t){e.$set(e.choice,e.index-1,t)},expression:"choice[index-1]"}},[e._v("对")])],1),n("li",[n("el-radio",{attrs:{label:"2"},model:{value:e.choice[e.index-1],callback:function(t){e.$set(e.choice,e.index-1,t)},expression:"choice[index-1]"}},[e._v("错")])],1)]):e._e()],2)},c=[],o={props:["index","title","score","arr","choice","type"],data:function(){return console.log(this.choice),{mulChoice:[]}},methods:{mulChange:function(){var e=this;while(0!=this.choice[this.index-1].length)this.choice[this.index-1].pop();this.mulChoice.forEach((function(t){var n=e.arr.indexOf(t);-1!=n&&e.choice[e.index-1].push(n+1)}))},getWord:function(e){switch(e){case 0:return"A.";case 1:return"B.";case 2:return"C.";case 3:return"D.";default:return""}}}},l=o,u=(n("c2e9"),n("2877")),h=Object(u["a"])(l,r,c,!1,null,"1ec49dc0",null),m=h.exports,d=n("8cf9"),x={data:function(){return{examId:this.$route.params.id,index:0,nextFlag:!1,preFlag:!0,item:{index:0,title:null,score:-1,arr:["","","",""],type:0},list:[],answer:[],examInfo:{name:"考试名",timeLength:30},remainTime:"30:11"}},components:{singleChoice:m},mounted:function(){this.getExamById(),console.log("考试页面",this.examId)},watch:{index:function(){0==this.index?this.preFlag=!0:this.index>0&&(this.preFlag=!1),this.index<this.list.length-1?this.nextFlag=!1:this.nextFlag=!0,this.item=this.list[this.index]}},methods:{getExamById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getExamQuestion(this.examId);case 3:t=e.sent,console.log(t),this.list=t.data.list,this.item=this.list[0],this.examInfo=t.data.examInfo,n=60*this.examInfo.timeLength,this.initAnswer(),this.remainTime="".concat(parseInt(n/60).toString().padStart(2,"0"),":").concat((n%60).toString().padStart(2,"0")),i=setInterval((function(){var e=a.remainTime.split(":"),t=60*+e[0]+ +e[1]-1;if(-1==t)return clearInterval(i),a.runOutOfTime(),console.log("时间到"),!1;a.remainTime="".concat(parseInt(t/60).toString().padStart(2,"0"),":").concat((t%60).toString().padStart(2,"0"))}),1e3),e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](0);case 16:case"end":return e.stop()}}),e,this,[[0,14]])})));function t(){return e.apply(this,arguments)}return t}(),initAnswer:function(){var e=this;this.list.forEach((function(t,n){1==t.type?e.answer[n]=[]:e.answer[n]=null}))},hadDone:function(e){return Array.isArray(this.answer[e-1])?this.answer[e-1].length>0:null!=this.answer[e-1]},next:function(){this.index++,console.log(this.answer)},pre:function(){this.index--},beforeSubmit:function(){for(var e=!0,t=0;t<this.answer.length;t++){var n=this.answer[t];if(Array.isArray(n)&&0==n.length||null==n){e=!1;break}}e?this.submit():this.$message.error("还有问题没有作答，不能提交")},runOutOfTime:function(){this.submit()},submit:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={examId:this.examId,answer:this.answer},console.log(t),e.next=5,d["a"].submitExam(t);case 5:e.sent,this.$message.success("提交试卷成功！"),this.$router.push({path:"/examTodo"}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),this.$message.error(e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),switchQuestion:function(e){this.index=e-1}}},f=x,p=(n("715d"),Object(u["a"])(f,i,a,!1,null,"4421acd8",null));t["default"]=p.exports},"2b03":function(e,t,n){},3870:function(e,t,n){},"715d":function(e,t,n){"use strict";var i=n("3870"),a=n.n(i);a.a},"8cf9":function(e,t,n){"use strict";var i=n("0c6d"),a=n("b441"),s=function(e){return Object(i["c"])(a["g"]+"/getTodoExamList","get",e)},r=function(e){return Object(i["c"])(a["g"]+"/getHalfExamList","get",e)},c=function(e){return Object(i["c"])(a["g"]+"/getExamInfo","get",{examId:e})},o=function(e){return Object(i["c"])(a["g"]+"/getExamQuestions","get",{examId:e})},l=function(e){return Object(i["c"])(a["g"]+"/getDoneExamList","get",e)},u=function(e){return Object(i["c"])(a["g"]+"/getExamDetail","get",{examId:e})},h=function(e){return Object(i["c"])(a["g"]+"/rejoinExam","post",{examId:e})},m=function(e){return Object(i["c"])(a["g"]+"/submitExam","post",e)};t["a"]={getTodoExam:s,getHalfExam:r,getExamIndexInfo:c,getExamQuestion:o,getDoneExam:l,getExamDetail:u,rejoinExam:h,submitExam:m}},c2e9:function(e,t,n){"use strict";var i=n("2b03"),a=n.n(i);a.a}}]);